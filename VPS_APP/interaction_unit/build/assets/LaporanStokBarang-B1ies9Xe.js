import{u as _,r as t,j as e,b0 as k,o as w,b as v,aw as B,s as P}from"./index-BFtBgOrg.js";import{W as T}from"./Wrap-Dk-wg8kL.js";import{P as C}from"./PageTitle-Hc-YSVDI.js";import{P as z}from"./Pagination-CNke5GoU.js";import{T as L}from"./ToggleBox-BuOhxKmX.js";import"./react-paginate-C1eAq6Tf.js";const M=()=>{const u=_(),{data:m}=u,[r,g]=t.useState(new Date().getMonth()),[h,j]=t.useState([]),[f,i]=t.useState(!1),[b,y]=t.useState(!1),[p,x]=t.useState(""),[n,o]=t.useState({page:1,size:10,count:118,lastPage:12}),l=(a="")=>{a==""&&x(a),i(!0),B.custom(`/report/${(r+1).toString().padStart(2,"0")}/${m.tahun}?search=${a}&page=${n.page}&size=${n.size}`,"GET").then(s=>{var c,d;y(a.length<1),j((c=s==null?void 0:s.data)==null?void 0:c.entry),o((d=s==null?void 0:s.data)==null?void 0:d.pagination),i(!1)}).catch(s=>{P(s)})},N=({selected:a})=>{let s=n;s.page=a+1,o(s),l()},S=a=>{let s=n;s.size=a,s.page=1,o(s),l()};return t.useEffect(()=>{l()},[r]),e.jsx(T,{isLoading:f,children:e.jsxs("div",{children:[e.jsx(C,{title:"Laporan Stok Barang"}),e.jsxs("div",{className:"bg-white py-4 px-6 mb-3 flex-col rounded-md justify-between shadow-2xl",children:[e.jsx(L,{label:"Bulan",labelTextSize:"text-sm",toggleBox:r,textSize:"text-xs",setToggleBox:g,toggleBoxList:k()}),e.jsxs("label",{className:"input input-sm w-max input-bordered flex items-center gap-2 bg-white",children:[e.jsx("input",{type:"text",className:"grow bg-transparent",placeholder:"Cari",value:p,onChange:a=>x(a.target.value)}),b?e.jsx(w,{onClick:()=>{l(p)},className:"cursor-pointer"}):e.jsx(v,{onClick:()=>l(""),className:"cursor-pointer"})]})]}),e.jsx("div",{className:"overflow-x-auto h-[50vh] no-scrollbar pb-4",children:h.map(a=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex  justify-between gap-x-2 px-6 py-2 items-start bg-white shadow-xl rounded-md ",children:e.jsxs("div",{className:"w-full flex flex-col gap-y-5 py-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-start flex-col gap-y-2",children:[e.jsx("p",{className:"text-md font-bold",children:a.daftar_barang_name}),e.jsx("p",{className:"text-sm",children:a.kategori_harga_barang_kode_barang})]}),e.jsxs("div",{className:"flex items-end flex-col gap-y-2",children:[e.jsx("p",{className:"text-md font-bold",children:a.daftar_gudang_name}),e.jsx("p",{className:"text-xs bg-blue-800 font-bold text-white px-4 py-1 w-max rounded-md",children:a.satuan_barang_name})]})]}),e.jsxs("div",{className:"flex font-medium bg-gray-100 p-2 border-t-2",children:[e.jsxs("p",{className:"text-sm pr-6 py-1",children:[a.stok_sistem," Stok Tersedia"]}),e.jsxs("p",{className:"text-sm px-6 py-1",children:[a.stok_penyesuaian_persediaan_bulan_lalu," Stok Penyesuaian Bulan Lalu"]}),e.jsxs("p",{className:"text-sm px-6 py-1",children:[a.konversi_masuk," Konversi Masuk"]}),e.jsxs("p",{className:"text-sm px-6 py-1",children:[a.konversi_keluar," Konversi Keluar"]}),e.jsxs("p",{className:"text-sm px-6 py-1",children:[a.transfer_masuk," Transfer Masuk"]}),e.jsxs("p",{className:"text-sm px-6 py-1",children:[a.transfer_keluar," Transfer Keluar"]}),e.jsxs("p",{className:"text-sm px-6 py-1",children:[a.pembelian," Pembelian"]}),e.jsxs("p",{className:"text-sm px-6 py-1",children:[a.retur_pembelian," Retur Pembelian"]}),e.jsxs("p",{className:"text-sm px-6 py-1",children:[a.penjualan," Penjualan"]}),e.jsxs("p",{className:"text-sm px-6 py-1",children:[a.retur_penjualan," Retur Penjualan"]})]})]})})}))}),e.jsx(z,{paginateUpdatePage:N,paginate:n,setSize:S})]})})};export{M as default};
