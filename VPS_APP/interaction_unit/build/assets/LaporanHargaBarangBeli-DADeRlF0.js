import{r as t,j as a,bF as f,f as L,az as y,s as l,a8 as v,ay as N}from"./index-DZCXWm7f.js";import{W as S}from"./Wrap-DcwCOsCB.js";import{P as _}from"./PageTitle-CmhTXHkp.js";import{p as w}from"./number.helper-efe0YCx6.js";import{F as c}from"./FormSelectWithLabel-BRttMTTK.js";import"./FormInput-BS-RLPlt.js";const H=()=>{const[g,T]=t.useState(!1),[n,h]=t.useState([]),[x,u]=t.useState([]),[p,m]=t.useState([]),[i,o]=t.useState(),[d,r]=t.useState(),j=()=>{y.custom("/","GET").then(e=>{u(e.data.entry),e.data.entry.length>0&&o(s=>({label:e.data.entry[0].name,value:e.data.entry[0].uuid}))}).catch(e=>l(e))},b=()=>{r(e=>null),v.custom("","GET").then(e=>{m(e.data.entry),e.data.entry.length>0&&r(s=>({label:e.data.entry[0].name,value:e.data.entry[0].uuid}))}).catch(e=>l(e))},B=()=>{N.custom(`/harga_beli_report/${i.value}/${d.value}`,"GET").then(e=>{h(s=>e.data)}).catch(e=>l(e))};return t.useEffect(()=>{j(),b()},[]),a.jsx(S,{isLoading:g,children:a.jsxs("div",{children:[a.jsx(_,{title:"Laporan Harga Barang Beli"}),a.jsxs("div",{className:"grid grid-cols-12",children:[a.jsx("div",{className:"col-span-12",children:a.jsxs("div",{className:"bg-white py-6 px-6 rounded-t-md",children:[a.jsxs("div",{className:"flex items-end gap-x-2",children:[a.jsx(c,{label:"Kode Barang",optionsDataList:x,optionsLabel:"name",optionsValue:"uuid",selectValue:i,onchange:e=>{o(e)},selectName:"daftarBarang"}),a.jsx(c,{label:"Satuan Barang",optionsDataList:p,optionsLabel:"name",optionsValue:"uuid",selectValue:d,onchange:e=>{r(e)},selectName:"satuanBarang"})]}),a.jsxs("button",{className:"btn mt-3 btn-sm bg-blue-800 text-white",onClick:()=>B(),children:[a.jsx(f,{})," Lihat Laporan Pembelian Barang"]})]})}),a.jsx("div",{className:"col-span-12 h-[80vh] overflow-y-scroll no-scrollbar",children:a.jsxs("div",{className:"bg-white rounded-b-md px-6",children:[a.jsx("h1",{className:"font-bold text-2xl pb-3",children:"Laporan Harga Barang Beli"}),a.jsxs("table",{className:"table",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"sticky top-0 bg-white py-4 text-black",children:[a.jsx("th",{width:12,children:"No"}),a.jsx("th",{children:"Kode Barang"}),a.jsx("th",{children:"Supplier"}),a.jsx("th",{children:"Tanggal Beli"}),a.jsx("th",{children:"Harga Beli"})]})}),a.jsx("tbody",{children:n==null?void 0:n.map((e,s)=>a.jsx(a.Fragment,{children:a.jsxs("tr",{children:[a.jsxs("td",{children:[s+1,"."]}),a.jsx("td",{children:e.kode_barang}),a.jsx("td",{children:e.supplier_name}),a.jsx("td",{children:L(e.tanggal_pesanan_pembelian_barang)}),a.jsx("td",{children:w(e.harga_beli)})]},s)}))})]})]})})]})]})})};export{H as default};
