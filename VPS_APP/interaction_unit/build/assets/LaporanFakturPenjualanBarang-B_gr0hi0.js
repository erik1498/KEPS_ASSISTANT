import{w as p,r as n,j as t,W as g,x as m,y as b,d as N,f,p as r,bJ as F,bX as _,bY as A,t as T}from"./index-Bi9xDvxa.js";import"./react-paginate-BgdVxzJl.js";const S=()=>{p();const[i,o]=n.useState(""),[x,u]=n.useState(!0),[d,j]=n.useState([]),[h,c]=n.useState(!1),l=(e="")=>{e==""&&(o(e),u(!0)),c(!0),F.custom(`/faktur_report?search=${e}`,"GET").then(s=>{let a=_(s.data.entry,"customer_name");a=A(a,["total_retur","total_pelunasan","total_beli","piutang"]),j(a),c(!1)}).catch(s=>{T(s)})};return n.useEffect(()=>{l()},[]),t.jsx(g,{isLoading:h,children:t.jsxs("div",{children:[t.jsx(m,{title:"Laporan Faktur Penjualan Barang"}),t.jsxs("div",{className:"bg-white py-3 px-6 mb-3 rounded-md flex justify-between shadow-2xl",children:[t.jsxs("label",{className:"input input-sm input-bordered flex items-center gap-2 bg-white",children:[t.jsx("input",{type:"text",className:"grow bg-transparent",placeholder:"Cari",value:i,onChange:e=>o(e.target.value)}),x?t.jsx(b,{onClick:()=>{l(i)},className:"cursor-pointer"}):t.jsx(N,{onClick:()=>l(""),className:"cursor-pointer"})]}),t.jsx("div",{className:"flex gap-x-2 items-center"})]}),t.jsx("div",{className:"overflow-x-auto bg-white shadow-xl rounded-md h-[50vh] no-scrollbar",children:t.jsx("table",{className:"table table-sm",children:t.jsx("tbody",{children:d==null?void 0:d.map((e,s)=>t.jsxs(t.Fragment,{children:[t.jsxs("tr",{className:"bg-gray-200 uppercase font-bold",children:[t.jsx("td",{children:e.parent}),t.jsx("td",{}),t.jsx("td",{}),t.jsx("td",{}),t.jsx("td",{}),t.jsx("td",{})]},s),t.jsxs("tr",{children:[t.jsx("td",{}),t.jsx("td",{children:"FAKTUR PENJUALAN"}),t.jsx("td",{children:"TANGGAL FAKTUR"}),t.jsx("td",{children:"PENJUALAN"}),t.jsx("td",{children:"PELUNASAN"}),t.jsx("td",{children:"PIUTANG"})]}),e.data.map(a=>t.jsxs("tr",{children:[t.jsx("td",{}),t.jsx("td",{children:a.nomor_faktur_penjualan_barang}),t.jsx("td",{children:f(a.tanggal)}),t.jsx("td",{children:r(a.total_beli.toFixed(2))}),t.jsx("td",{children:r(a.total_pelunasan.toFixed(2))}),t.jsx("td",{children:r(a.piutang.toFixed(2))})]},s)),t.jsxs("tr",{className:"font-bold",children:[t.jsx("td",{}),t.jsx("td",{children:"TOTAL"}),t.jsx("td",{}),t.jsx("td",{children:r(e.total_beli.toFixed(2))}),t.jsx("td",{children:r(e.total_pelunasan.toFixed(2))}),t.jsx("td",{children:r(e.piutang.toFixed(2))})]})]}))})})})]})})};export{S as default};
