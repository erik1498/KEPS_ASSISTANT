import{r as s,j as e,N as Ne,O as D,e as K,f as A,F as z,H as B,k as L,b as O,I as U,P as W,Q as M,S as Q,T as q,u as Z,h as ve,J as X,K as ye,s as we,R as Se,i as Pe,o as Te,U as De,a as Ae}from"./index-QngEOzN_.js";import{P as Fe}from"./PageTitle-ByHsc4p5.js";import{t as $,s as Ee,W as Ke}from"./Wrap-BCfnb039.js";import{F as y}from"./FormInputWithLabel-Bx4cKmcq.js";import{F}from"./FormSelectWithLabel-BCV4i4Bv.js";import{i as fe,a as Le}from"./actionEvent.helper-CSfRBgS8.js";import{p as E}from"./number.helper-_FlTjox4.js";import{P as Re}from"./Pagination-D3WNYDRv.js";import{P as Ce,l as $e}from"./PDFHeader-2lYxv13s.js";import"./FormInput-D113t21y.js";import"./index-BKNjMPK8.js";const H=()=>{const[a,r]=s.useState(!1);return s.useState(()=>{setTimeout(()=>{r(!0)},5e3)},[]),e.jsxs("div",{className:"w-max flex gap-x-2 items-center justify-center",children:[e.jsx("span",{className:"loading loading-bars loading-xs"}),e.jsx("h1",{className:"ml-2",children:"Harap Menunggu"}),a&&e.jsxs("button",{onClick:()=>document.location.reload(),className:"btn btn-white btn-sm",children:[e.jsx(Ne,{})," Reload"]})]})},ee=({idAktivitasDokumen:a,pegawaiList:r,viewMode:m})=>{const[o,x]=s.useState(!1),[_,p]=s.useState("0"),[c,k]=s.useState(D()),[j,b]=s.useState(),[f,h]=s.useState(""),[n,t]=s.useState([]),g=()=>{x(i=>!0),B.custom(`/${a}`,"GET",null).then(i=>{x(w=>!1),t(w=>i.data.entry)})},R=async i=>{i.preventDefault(),await L(i.target)&&(x(w=>!0),B.custom("","POST",null,{data:{aktivitas_dokumen:a,tanggal:c,nilai_pembayaran:_,pegawai_penerima:j.value,nomor_kwitansi_tanda_terima:f}}).then(w=>{g()}).catch(w=>{console.log(w)}))},C=i=>{x(w=>!0),B.custom(`/${i}`,"DELETE",null).then(()=>{g()}).catch(w=>{console.log(w)})};return s.useEffect(()=>{g()},[]),o?e.jsx(H,{}):e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:`${m?"text-sm mt-4 mb-1":"text-lg mt-6"} font-bold`,children:"Riwayat Pembayaran"}),m?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:i=>R(i),children:e.jsxs("div",{className:"flex bg-white py-3 w-full items-end gap-x-2 mb-3",children:[e.jsx(y,{label:"Hari/Tanggal Pembayaran",type:"datetime-local",onchange:i=>{k(i.target.value)},others:{value:c,name:"tanggal"}}),e.jsx(y,{label:"Jumlah Pembayaran",type:"text",onchange:i=>{fe(i),p(i.target.value)},others:{value:_,name:"nilaiPembayaran"}}),e.jsx(F,{label:"Staf Penerima Pembayaran",onchange:i=>{b(i)},optionsDataList:r,optionsLabel:"name",optionsValue:"uuid",selectValue:j,selectName:"kodeAkunType"}),e.jsx(y,{label:"Nomor Kwitansi / Tanda Terima",type:"text",onchange:i=>{h(i.target.value)},others:{value:f,name:"nomorKwitansi"}}),e.jsxs("button",{className:"btn btn-sm bg-blue-800 mt-4 text-white",type:"submit",children:[e.jsx(K,{})," Tambah"]})]})})}),e.jsxs("table",{className:`table ${m?"table-sm":""} table-zebra mb-6`,children:[m?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsxs("tr",{className:"font-bold bg-gray-900 text-white",children:[e.jsx("td",{children:"Jumlah Pembayaran"}),e.jsx("td",{children:"Hari/Tanggal Pembayaran"}),e.jsx("td",{children:"Staf Penerima Pembayaran"}),e.jsx("td",{children:"Nomor Kwitansi"}),e.jsx("td",{children:"Aksi"})]})}),e.jsx("tbody",{children:n.map((i,w)=>e.jsxs("tr",{children:[e.jsx("td",{children:A(i.tanggal)}),e.jsxs("td",{children:["Rp. ",E(i.nilai_pembayaran)]}),e.jsx("td",{children:i.pegawai_penerima_name}),e.jsx("td",{children:i.nomor_kwitansi_tanda_terima}),m?e.jsx(e.Fragment,{}):e.jsx("td",{children:e.jsx(z,{onClick:()=>{C(i.uuid)},className:"text-red-600 cursor-pointer"})})]}))})]})]})},He=({idStatusRiwayatAktivitasDokumen:a,pegawaiList:r=[],viewMode:m})=>{const[o,x]=s.useState(!1),[_,p]=s.useState(),[c,k]=s.useState([]),j=()=>{x(h=>!0),U.custom(`/${a}`,"GET").then(h=>{x(n=>!1),k(h.data.entry)})},b=h=>{x(n=>!0),U.custom(`/${h}`,"DELETE").then(()=>{j()}).catch(n=>console.log(n))},f=async h=>{h.preventDefault(),await L(h.target)&&(x(n=>!0),U.custom("","POST",null,{data:{status_riwayat_aktivitas_dokumen:a,pegawai_pelaksana:_.value}}).then(n=>{j()}))};return s.useEffect(()=>{j()},[]),o?e.jsx(H,{}):e.jsxs(e.Fragment,{children:[m?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:h=>f(h),children:e.jsxs("div",{className:"flex sticky bottom-0 bg-white py-3 w-max items-end gap-x-2",children:[e.jsx(F,{label:"Staf Pelaksana",onchange:h=>{p(h)},optionsDataList:r,optionsLabel:"name",optionsValue:"uuid",selectValue:_,selectName:"kodeAkunType"}),e.jsxs("button",{className:"btn btn-sm bg-blue-800 mt-4 text-white",type:"submit",children:[e.jsx(K,{})," Tambah Staf Pelaksana"]})]})})}),e.jsx("div",{className:"flex gap-x-2",children:c.map((h,n)=>m?e.jsx(e.Fragment,{children:e.jsx("p",{className:"text-xs font-bold mt-3 bg-gray-400 px-2 rounded-full text-white",children:h.pegawai_pelaksana_name})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex gap-x-3 items-center px-2 rounded-lg bg-gray-500",children:[e.jsx("p",{className:"px-4 py-1 text-sm font-bold text-white",children:h.pegawai_pelaksana_name}),e.jsx(O,{onClick:()=>b(h.uuid),className:"text-white cursor-pointer",size:20})]})}))})]})},ze=({idStatusRiwayatAktivitasDokumen:a,viewMode:r})=>{const[m,o]=s.useState(!1),[x,_]=s.useState([]),[p,c]=s.useState(""),[k,j]=s.useState(D()),b=async n=>{n.preventDefault(),await L(n.target)&&(o(t=>!0),W.custom("","POST",null,{data:{status_riwayat_aktivitas_dokumen:a,keterangan:p,tanggal:k}}).then(t=>{f()}))},f=()=>{o(n=>!0),W.custom(`/${a}`,"GET").then(n=>{_(n.data.entry),j(D()),o(t=>!1)}).catch(n=>{console.log(n)})},h=n=>{o(t=>!0),W.custom(`/${n}`,"DELETE").then(t=>{f()}).catch(t=>{console.log(t)})};return s.useEffect(()=>{f()},[]),m?e.jsx(H,{}):e.jsxs(e.Fragment,{children:[r?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:n=>b(n),children:e.jsxs("div",{className:"flex items-end gap-x-2 w-full mt-5",children:[e.jsx(y,{label:"Hari/Tanggal Keterangan",type:"datetime-local",addClassParent:"flex-1",onchange:n=>{j(n.target.value)},others:{value:k,name:"tanggalKeterangan"}}),e.jsx(y,{label:"Keterangan",type:"text",addClassParent:"flex-3",onchange:n=>{c(n.target.value)},others:{value:p,name:"keterangan"}}),e.jsxs("button",{className:"btn btn-sm bg-blue-800 mt-4 text-white",children:[e.jsx(K,{})," Tambah Keterangan"]})]})})}),x.length>0?e.jsx("p",{className:"text-sm font-bold mt-5",children:"Keterangan"}):e.jsx(e.Fragment,{}),x.map((n,t)=>e.jsx("div",{className:"flex flex-col gap-x-3 mt-2",children:e.jsxs("div",{className:"flex gap-x-3 items-start",children:[r?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsx(z,{onClick:()=>h(n.uuid),className:"text-red-500 cursor-pointer",size:15})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs",children:n.keterangan}),e.jsx("p",{className:"text-[9px]",children:A(n.tanggal)})]})]})}))]})},Ve=({idStatusAktivitasDokumen:a,pegawaiList:r,viewMode:m})=>{const[o,x]=s.useState(!1),[_,p]=s.useState([]),[c,k]=s.useState(""),[j,b]=s.useState(D()),f=async t=>{t.preventDefault(),await L(t.target)&&(x(g=>!0),M.custom("","POST",null,{data:{riwayat_aktivitas_dokumen:a,judul_status:c,tanggal:j}}).then(g=>{n()}).catch(g=>{console.log(g)}))},h=t=>{x(g=>!0),M.custom(`/${t}`,"DELETE").then(g=>{n()}).catch(g=>{console.log(g)})},n=()=>{x(t=>!0),M.custom(`/${a}`,"GET").then(t=>{p(t.data.entry),x(g=>!1),b(D())}).catch(t=>{console.log(t)})};return s.useEffect(()=>{n(),p(t=>[]),k(t=>""),b(t=>D())},[a]),o?e.jsx(H,{}):e.jsxs(e.Fragment,{children:[m?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:t=>f(t),children:e.jsxs("div",{className:"flex sticky bottom-0 bg-white pb-3 w-full items-end gap-x-2",children:[e.jsx(y,{label:"Status Aktivitas",type:"text",onchange:t=>{k(t.target.value)},others:{value:c,name:"statusAktivitas"}}),e.jsx(y,{label:"Hari/Tanggal Status Aktivitas",type:"datetime-local",onchange:t=>{b(t.target.value)},others:{value:j,name:"tanggalStatusAktivitas"}}),e.jsxs("button",{className:"btn btn-sm bg-blue-800 mt-4 text-white",type:"submit",children:[e.jsx(K,{})," Tambah"]})]})})}),_.length>0?e.jsx("p",{className:`${m?"text-sm mt-4 mb-2":"text-md mt-6"} font-bold mb-4`,children:"Riwayat Status Aktivitas "}):e.jsx(e.Fragment,{}),_.map((t,g)=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"px-2",children:e.jsxs("div",{className:"relative border-l-2 border-blue-800 pl-4 pb-6",children:[e.jsx("div",{className:"absolute -left-2 top-0 h-3 w-3 rounded-full bg-blue-800"}),e.jsx("p",{className:"text-md font-bold",children:t.judul_status}),e.jsx("p",{className:"text-[11px]",children:A(t.tanggal)}),m?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsxs("button",{className:"btn btn-xs w-max bg-red-800 text-white mt-4",onClick:()=>h(t.uuid),children:[e.jsx(z,{size:10}),"Hapus"]})}),e.jsx(He,{idStatusRiwayatAktivitasDokumen:t.uuid,viewMode:m,pegawaiList:r}),e.jsx(ze,{idStatusRiwayatAktivitasDokumen:t.uuid,viewMode:m})]})})}))]})},ae=({idAktivitasDokumen:a,pegawaiList:r,viewMode:m})=>{const[o,x]=s.useState(!1),[_,p]=s.useState([]),[c,k]=s.useState(""),[j,b]=s.useState(D()),f=async t=>{t.preventDefault(),await L(t.target)&&(x(g=>!0),Q.custom("","POST",null,{data:{aktivitas_dokumen:a,judul_aktivitas:c,tanggal:j}}).then(()=>{n()}))},h=async t=>{x(g=>!0),Q.custom(`/${t}`,"DELETE").then(g=>{n()}).catch(g=>{console.log(g)})},n=()=>{x(t=>!0),Q.custom(`/${a}`,"GET").then(t=>{p(t.data.entry),x(g=>!1),b(D())}).catch(t=>{console.log(t)})};return s.useEffect(()=>{n()},[]),o?e.jsx(H,{}):e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:`${m?"text-sm mt-4 mb-2":"text-lg mt-6"} font-bold`,children:"Aktivitas"}),m?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:t=>f(t),children:e.jsxs("div",{className:"flex bg-white py-3 w-full items-end gap-x-2",children:[e.jsx(y,{label:"Judul Aktivitas",type:"text",onchange:t=>{k(t.target.value)},others:{value:c,name:"judulAktivitas"}}),e.jsx(y,{label:"Hari/Tanggal Judul Aktivitas",type:"datetime-local",onchange:t=>{b(t.target.value)},others:{value:j,name:"tanggalJudulAktivitas"}}),e.jsxs("button",{className:"btn btn-sm bg-blue-800 mt-4 text-white",type:"submit",children:[e.jsx(K,{})," Tambah"]})]})})}),e.jsx("div",{className:"flex flex-col mt-6 w-full",children:_.map((t,g)=>e.jsxs("div",{className:"mb-7 pb-5 grid grid-cols-12 gap-x-2",children:[e.jsxs("div",{className:"col-span-5 flex flex-col",children:[e.jsx("div",{className:"bg-blue-800 w-3/12 h-6 rounded-full mb-2"}),e.jsx("p",{className:"text-xl font-bold mt-2 ml-2",children:t.judul_aktivitas}),e.jsx("p",{className:"text-xs ml-2",children:A(t.tanggal)}),m?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsxs("button",{className:"btn btn-xs w-max bg-red-800 text-white mt-4",onClick:()=>h(t.uuid),children:[e.jsx(z,{size:10}),"Hapus"]})})]}),e.jsx("div",{className:"col-span-5",children:e.jsx(Ve,{pegawaiList:r,idStatusAktivitasDokumen:t.uuid,setIsLoading:x,viewMode:m})})]}))})]})},te=({idAktivitasDokumen:a,viewMode:r})=>{const[m,o]=s.useState(!1),[x,_]=s.useState(""),[p,c]=s.useState(""),[k,j]=s.useState([]),b=()=>{o(n=>!0),q.custom(`/${a}`,"GET",null).then(n=>{j(t=>n.data.entry),o(t=>!1)})},f=async n=>{n.preventDefault(),await L(n.target)&&(o(t=>!0),q.custom("","POST",null,{data:{aktivitas_dokumen:a,nomor_dokumen:x,keterangan_dokumen:p}}).then(t=>{b(),o(g=>!1)}).catch(t=>{console.log(t)}))},h=n=>{o(t=>!0),q.custom(`/${n}`,"DELETE",null).then(()=>{b()}).catch(t=>{console.log(t)})};return s.useEffect(()=>{b()},[]),m?e.jsx(H,{}):e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:`${r?"text-sm mt-1 mb-2":"text-lg mt-6"} font-bold`,children:"Daftar Dokumen Klien"}),r?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:n=>f(n),children:e.jsxs("div",{className:"flex bg-white py-3 w-full items-end gap-x-2 mb-3",children:[e.jsx(y,{label:"Nomor Dokumen",type:"text",onchange:n=>{_(n.target.value)},others:{name:"nomorDokumen"}}),e.jsx(y,{label:"Keterangan Dokumen",type:"text",onchange:n=>{c(n.target.value)},others:{name:"Keterangan"}}),e.jsxs("button",{className:"btn btn-sm bg-blue-800 mt-4 text-white",type:"submit",children:[e.jsx(K,{})," Tambah"]})]})})}),e.jsxs("table",{className:`table ${r?"table-sm":""} table-zebra mb-6`,children:[r?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsxs("tr",{className:"font-bold bg-gray-900 text-white",children:[e.jsx("td",{children:"Nomor Dokumen"}),e.jsx("td",{children:"Keterangan Dokumen"}),e.jsx("td",{children:"Aksi"})]})}),e.jsx("tbody",{children:k.map((n,t)=>e.jsxs("tr",{children:[e.jsx("td",{children:n.nomor_dokumen}),e.jsx("td",{children:n.keterangan_dokumen}),r?e.jsx(e.Fragment,{}):e.jsx("td",{children:e.jsx(z,{onClick:()=>{h(n.uuid)},className:"text-red-600 cursor-pointer"})})]}))})]})]})},Ie=({setAddAktivitasDokumenEvent:a,idAktivitasDokumen:r,setIdAktivitasDokumen:m=()=>{}})=>{var be,_e;const[o,x]=s.useState([]),[_,p]=s.useState(!1),[c,k]=s.useState([]),[j,b]=s.useState([]),{data:f}=Z(),[h,n]=s.useState(!1),[t,g]=s.useState(D()),[R,C]=s.useState("Otomatis Terisi Ketika Disimpan"),[i,w]=s.useState({label:$[0].title,value:$[0].title}),[P,d]=s.useState([]),[v,T]=s.useState(),[G,se]=s.useState(""),[ne,le]=s.useState(""),[ie,re]=s.useState(""),[ce,de]=s.useState(""),[V,xe]=s.useState(),[me,oe]=s.useState(""),[ue,he]=s.useState(""),[I,ge]=s.useState({label:"Mulai",value:"Mulai"}),ke=async l=>{if(l.preventDefault(),await L(l.target)){n(N=>!0);const u={tanggal:t,tipe_dokumen:i==null?void 0:i.value,kategori_dokumen:P==null?void 0:P.value,jenis_dokumen:v?v.value:"EMPTY",klien:G,nomor_hp_klien:ne,email_klien:ce,alamat_klien:ie,penanggung_jawab:V==null?void 0:V.value,biaya:me,no_surat:R,keterangan:ue,status:I==null?void 0:I.value,tahun:f==null?void 0:f.tahun};X.custom(`${r!=null?`/${r}`:""}`,r!=null?"PUT":"POST",null,{data:u}).then(N=>{n(S=>!1),C(N.data.no_surat),m(S=>N.data.uuid)})}},pe=()=>{n(l=>!0),X.custom(`/${r}`,"GET").then(l=>{n(u=>!1),g(u=>l.data.tanggal),C(u=>l.data.no_surat),se(u=>l.data.klien),le(u=>l.data.nomor_hp_klien),de(u=>l.data.email_klien),re(u=>l.data.alamat_klien),oe(u=>E(l.data.biaya)),he(u=>l.data.keterangan),w(u=>({label:l.data.tipe_dokumen,value:l.data.tipe_dokumen})),d(u=>({label:l.data.kategori_dokumen,value:l.data.kategori_dokumen})),T(u=>({label:l.data.jenis_dokumen,value:l.data.jenis_dokumen})),je(l.data.penanggung_jawab),ge(u=>({label:l.data.status,value:l.data.status}))}).catch(l=>{console.log(l)})},je=l=>{ye.custom("","GET").then(u=>{if(x(N=>u.data.entry),l){const N=u.data.entry.filter(S=>S.uuid==l);N.length>0&&xe({label:N[0].name,value:N[0].uuid})}}).catch(u=>we(u))};return s.useEffect(()=>{k(l=>{var u;return(u=$.filter(N=>N.title==(i==null?void 0:i.value))[0])==null?void 0:u.data}),r||d(l=>{var u,N;return{label:(u=$.filter(S=>S.title==(i==null?void 0:i.value))[0])==null?void 0:u.data[0].title,value:(N=$.filter(S=>S.title==(i==null?void 0:i.value))[0])==null?void 0:N.data[0].title}})},[i]),s.useEffect(()=>{var l,u;((u=(l=c==null?void 0:c.filter(N=>N.title==P.label))==null?void 0:l.at(0))==null?void 0:u.data)!=null?(b(N=>{var S;return(S=c==null?void 0:c.filter(J=>J.title==P.label))==null?void 0:S.at(0).data}),(!r||_==!0)&&T(N=>{var S,J;return{label:(S=c==null?void 0:c.filter(Y=>Y.title==P.label))==null?void 0:S.at(0).data.at(0).title,value:(J=c==null?void 0:c.filter(Y=>Y.title==P.label))==null?void 0:J.at(0).data.at(0).title}})):(b(N=>[]),T(N=>({label:"EMPTY",value:"EMPTY"}))),p(N=>!0)},[P]),s.useEffect(()=>{r&&pe()},[r]),s.useEffect(()=>{je()},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"bg-white rounded-md shadow-2xl h-[70vh] overflow-scroll no-scrollbar",children:e.jsxs("div",{className:"py-3 relative px-6 h-max bg-white w-full z-10",children:[e.jsxs("div",{className:"bg-white mb-3 sticky top-0 pt-5 pb-4 z-50 flex justify-between items-center",children:[e.jsxs("h1",{className:"uppercase text-gray-600 font-bold",children:["Tambah "," Aktivitas Dokumen"]}),e.jsxs("button",{className:"btn btn-sm bg-red-900 text-white border-none",onClick:()=>a(),children:[e.jsx(O,{})," Tutup"]})]}),e.jsxs("form",{onSubmit:l=>ke(l),children:[e.jsxs("div",{className:"flex gap-x-2",children:[e.jsx(y,{label:"Hari/Tanggal",type:"datetime-local",onchange:l=>{g(l.target.value)},others:{value:t,name:"hariTanggal"}}),e.jsx(y,{label:"Nomor Surat",type:"text",addClassInput:"font-bold text-red-500",addClassParent:"border-0",others:{value:R,name:"nomorSurat",disabled:!0}}),e.jsx(F,{label:"Tipe Dokumen",onchange:l=>{w(l)},optionsDataList:$,optionsLabel:"title",optionsValue:"title",selectValue:i,selectName:"kodeAkunType"})]}),e.jsxs("div",{className:"flex gap-x-2 mt-4",children:[e.jsx(F,{label:"Kategori Dokumen",onchange:l=>{d(u=>l)},selectValue:P,optionsDataList:c,optionsLabel:"title",optionsValue:"title",selectName:"kodeAkunType"}),((_e=(be=c.filter(l=>l.title==P.label).at(0))==null?void 0:be.data)==null?void 0:_e.length)>0?e.jsx(F,{label:"Jenis Dokumen",onchange:l=>{T(u=>l)},optionsDataList:j,optionsLabel:"title",selectValue:v,optionsValue:"title",selectName:"kodeAkunType"}):e.jsx(e.Fragment,{})]}),e.jsxs("div",{className:"flex gap-x-2 mt-4",children:[e.jsx(y,{label:"Klien",type:"text",onchange:l=>{se(l.target.value)},others:{value:G,name:"klien"}}),e.jsx(y,{label:"Nomor HP Klien",type:"text",onchange:l=>{Le(l),le(l.target.value)},others:{value:ne,name:"klien"}}),e.jsx(y,{label:"Email Klien",type:"email",onchange:l=>{de(l.target.value)},others:{value:ce,name:"klien"}}),e.jsx(y,{label:"Alamat Klien",type:"test",onchange:l=>{re(l.target.value)},others:{value:ie,name:"klien"}})]}),e.jsxs("div",{className:"flex gap-x-3 mt-4",children:[e.jsx(F,{label:"Penanggung Jawab",onchange:l=>{xe(l)},optionsDataList:o,selectValue:V,optionsLabel:"name",optionsValue:"uuid",selectName:"kodeAkunType"}),e.jsx(y,{label:"Biaya",type:"text",onchange:l=>{fe(l),oe(l.target.value)},others:{value:me,name:"biaya"}})]}),e.jsx("div",{className:"flex gap-x-3 mt-4",children:e.jsx(y,{label:"Keterangan Surat",type:"text",onchange:l=>{he(l.target.value)},others:{value:ue,name:"keteranganSurat"}})}),e.jsx("div",{className:"flex gap-x-3 mt-4",children:e.jsx(F,{label:"Status Aktivitas Dokumen",onchange:l=>{ge(u=>l)},selectValue:I,optionsDataList:Ee,optionsLabel:"nama",optionsValue:"nama",selectName:"kodeAkunType"})}),e.jsxs("button",{className:"btn btn-sm bg-green-800 mt-4 text-white",type:"submit",disabled:h,children:[e.jsx(ve,{})," Simpan"]})]}),r?e.jsxs(e.Fragment,{children:[e.jsx(te,{idAktivitasDokumen:r}),e.jsx(ee,{idAktivitasDokumen:r,pegawaiList:o}),e.jsx(ae,{idAktivitasDokumen:r,pegawaiList:o})]}):e.jsx(e.Fragment,{})]})})})},Je=Se.forwardRef((a,r)=>{var m,o,x,_,p,c,k,j,b,f;return e.jsxs("div",{ref:r,children:[e.jsx(Ce,{bulan:a.bulan,tahun:a.tahun,title:"Aktivitas Dokumen"}),e.jsxs("div",{className:"bg-white py-5 rounded-md",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("p",{className:"text-md",children:["Tanggal ",A((m=a==null?void 0:a.data)==null?void 0:m.tanggal)," | ",(o=a==null?void 0:a.data)==null?void 0:o.penanggung_jawab_name]})}),e.jsxs("p",{className:"text-sm mb-4",children:["Status Dokumen ( ",(x=a==null?void 0:a.data)==null?void 0:x.status," )"]}),e.jsxs("p",{className:"py-1 w-max rounded font-bold",children:["No. Surat : ",(_=a==null?void 0:a.data)==null?void 0:_.no_surat]}),e.jsxs("div",{className:"flex items-start font-bold mb-2",children:[e.jsxs("p",{className:"text-md",children:[" Biaya Rp. ",E((p=a==null?void 0:a.data)==null?void 0:p.biaya)]}),((c=a==null?void 0:a.data)==null?void 0:c.hutang)==0?e.jsx("p",{className:"text-md px-2 text-green-600",children:"( Lunas )"}):e.jsxs("p",{className:"text-md px-2 text-red-600",children:["( Hutang Rp. ",E((k=a==null?void 0:a.data)==null?void 0:k.hutang)," )"]})]}),e.jsxs("div",{className:"flex justify-between border-y-2 py-5 mt-5",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-xl font-bold",children:a.data.klien}),e.jsxs("div",{className:"flex flex-col gap-x-3 mt-2",children:[e.jsxs("div",{className:"flex gap-x-2",children:[e.jsx("p",{className:"text-sm font-bold",children:"Nomor HP : "}),e.jsx("p",{className:"text-sm",children:a.data.nomor_hp_klien})]}),e.jsxs("div",{className:"flex gap-x-2",children:[e.jsx("p",{className:"text-sm font-bold",children:"Email : "}),e.jsx("p",{className:"text-sm",children:a.data.email_klien})]}),e.jsxs("div",{className:"flex gap-x-2",children:[e.jsx("p",{className:"text-sm font-bold",children:"Alamat : "}),e.jsx("p",{className:"text-sm",children:a.data.alamat_klien})]})]})]}),e.jsx("div",{className:"flex justify-between",children:e.jsxs("div",{className:"flex gap-x-2 bg-gray-500 text-white font-bold rounded-lg w-max h-max",children:[e.jsx("p",{className:"text-md w-max pl-2",children:a.data.tipe_dokumen}),e.jsx("p",{className:`text-md w-max border-l-2 px-2 border-white ${a.data.jenis_dokumen=="EMPTY"?"":"border-r-2"}`,children:a.data.kategori_dokumen}),a.data.jenis_dokumen!="EMPTY"?e.jsx(e.Fragment,{children:e.jsx("p",{className:"text-md w-max pr-2",children:a.data.jenis_dokumen})}):e.jsx(e.Fragment,{})]})})]}),e.jsxs("div",{className:"border-b-2 py-5 mb-3",children:[e.jsx("p",{className:"text-sm font-bold",children:"Keterangan"}),e.jsx("p",{className:"text-sm mt-1",children:a.data.keterangan})]}),e.jsx(te,{idAktivitasDokumen:(j=a==null?void 0:a.data)==null?void 0:j.uuid,viewMode:!0}),e.jsx(ee,{idAktivitasDokumen:(b=a==null?void 0:a.data)==null?void 0:b.uuid,viewMode:!0}),e.jsx(ae,{idAktivitasDokumen:(f=a==null?void 0:a.data)==null?void 0:f.uuid,viewMode:!0})]}),e.jsxs("div",{className:"page-break",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h1",{className:"font-bold mb-10",children:"Penyerahan Dokumen Pada Tanggal : "}),e.jsx("h1",{children:"_____________________________________"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex flex-1 flex-col font-bold",children:[e.jsx("p",{children:"Diserahkan Oleh"}),e.jsx("p",{className:"mt-20",children:"_________________________________________________"})]}),e.jsxs("div",{className:"flex flex-1 flex-col items-start justify-start font-bold",children:[e.jsx("p",{children:"Diterima Oleh"}),e.jsx("p",{className:"mt-20",children:"_________________________________________________"})]})]}),e.jsx("div",{className:"flex justify-between gap-x-2 mt-10",children:e.jsxs("div",{className:"flex flex-1 flex-col items-start justify-start font-bold",children:[e.jsx("p",{children:"Disetujui Oleh"}),e.jsx("p",{className:"mt-20",children:"_________________________________________________"})]})}),e.jsx("div",{className:"flex justify-between gap-x-2 mt-10",children:e.jsxs("div",{className:"flex flex-1 flex-col items-start justify-start font-bold",children:[e.jsx("p",{children:"Kontak Penerima Berkas"}),e.jsx("p",{className:"mt-5",children:"_________________________________________________"})]})}),e.jsx("div",{className:"mt-6 pb-[80vh] border border-black pt-2 px-2 mb-20",children:e.jsx("p",{children:"Catatan : "})})]})]})}),Oe=({item:a,setIsViewDokumen:r=()=>{}})=>{const{data:m}=Z(),o=s.useRef(),x=$e.useReactToPrint({content:()=>o.current});return e.jsxs("div",{className:"bg-white px-4 py-5 rounded-md",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("p",{className:"text-md",children:["Tanggal ",A(a.tanggal)," | ",a.penanggung_jawab_name]}),e.jsxs("div",{className:"flex items-center gap-x-3",children:[e.jsxs("button",{className:"btn btn-xs shadow-none border-0 bg-red-500 text-white",onClick:()=>{x()},children:[e.jsx(Pe,{size:10}),"Cetak"]}),e.jsx("div",{className:"hidden",children:e.jsx(Je,{data:a,tahun:m.tahun,ref:o})}),e.jsxs("button",{className:"btn btn-xs bg-transparent shadow-none border-0 text-red-400",onClick:()=>{r(null)},children:[e.jsx(O,{size:10}),"Keluar"]})]})]}),e.jsxs("p",{className:"text-sm mb-4",children:["Status Dokumen ( ",a.status," )"]}),e.jsxs("p",{className:"py-1 w-max rounded font-bold",children:["No. Surat : ",a.no_surat]}),e.jsxs("div",{className:"flex items-start font-bold mb-2",children:[e.jsxs("p",{className:"text-md",children:[" Biaya Rp. ",E(a.biaya)]}),a.hutang==0?e.jsx("p",{className:"text-md px-2 text-green-600",children:"( Lunas )"}):e.jsxs("p",{className:"text-md px-2 text-red-600",children:["( Hutang Rp. ",E(a.hutang)," )"]})]}),e.jsxs("div",{className:"flex justify-between border-y-2 py-5 mt-5",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-xl font-bold",children:a.klien}),e.jsxs("div",{className:"flex flex-col gap-x-3 mt-2",children:[e.jsxs("div",{className:"flex gap-x-2",children:[e.jsx("p",{className:"text-sm font-bold",children:"Nomor HP : "}),e.jsx("p",{className:"text-sm",children:a.nomor_hp_klien})]}),e.jsxs("div",{className:"flex gap-x-2",children:[e.jsx("p",{className:"text-sm font-bold",children:"Email : "}),e.jsx("p",{className:"text-sm",children:a.email_klien})]}),e.jsxs("div",{className:"flex gap-x-2",children:[e.jsx("p",{className:"text-sm font-bold",children:"Alamat : "}),e.jsx("p",{className:"text-sm",children:a.alamat_klien})]})]})]}),e.jsx("div",{className:"flex justify-between",children:e.jsxs("div",{className:"flex gap-x-2 bg-gray-500 text-white font-bold rounded-lg w-max h-max",children:[e.jsx("p",{className:"text-md w-max pl-2",children:a.tipe_dokumen}),e.jsx("p",{className:`text-md w-max border-l-2 px-2 border-white ${a.jenis_dokumen=="EMPTY"?"":"border-r-2"}`,children:a.kategori_dokumen}),a.jenis_dokumen!="EMPTY"?e.jsx(e.Fragment,{children:e.jsx("p",{className:"text-md w-max pr-2",children:a.jenis_dokumen})}):e.jsx(e.Fragment,{})]})})]}),e.jsxs("div",{className:"border-b-2 py-5",children:[e.jsx("p",{className:"text-sm font-bold",children:"Keterangan"}),e.jsx("p",{className:"text-sm mt-1",children:a.keterangan})]}),e.jsxs("p",{className:"text-sm font-bold w-max mt-6 mb-3",children:[a.jumlah_dokumen," Dokumen Klien"]}),e.jsx(te,{idAktivitasDokumen:a.uuid,viewMode:!0}),e.jsx(ee,{idAktivitasDokumen:a.uuid,viewMode:!0}),e.jsx(ae,{idAktivitasDokumen:a.uuid,viewMode:!0})]})},aa=()=>{const a=Z(),{data:r}=a,[m,o]=s.useState(null),[x,_]=s.useState(null),[p,c]=s.useState(!1),[k,j]=s.useState(!1),[b,f]=s.useState(!0),[h,n]=s.useState(""),[t,g]=s.useState({page:1,size:10,count:118,lastPage:12}),[R,C]=s.useState([]),i=(d="")=>{d==""&&n(d),c(v=>!0),X.custom(`/tahun/${r.tahun}?search=${d}&page=${t.page}&size=${t.size}`,"GET").then(v=>{var T;c(G=>!1),f(d.length<1),g((T=v==null?void 0:v.data)==null?void 0:T.pagination),C(v.data.entry)}).catch(v=>{console.log(v)})},w=({selected:d})=>{let v=t;v.page=d+1,g(v),i()},P=d=>{let v=t;v.size=d,v.page=1,g(v),i()};return s.useEffect(()=>{i("")},[k]),e.jsxs(Ke,{isLoading:p,children:[e.jsx(Fe,{title:"Aktivitas Dokumen"}),m?e.jsx(e.Fragment,{children:e.jsx(Oe,{item:m,setIsViewDokumen:o})}):e.jsx(e.Fragment,{children:k?e.jsx(Ie,{setAddAktivitasDokumenEvent:()=>j(!1),idAktivitasDokumen:x,setIdAktivitasDokumen:_}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white py-3 px-6 mb-3 rounded-md flex justify-between shadow-2xl",children:[e.jsxs("label",{className:"input input-sm input-bordered flex items-center gap-2 bg-white",children:[e.jsx("input",{type:"text",className:"grow bg-transparent",placeholder:"Cari",disabled:!b,value:h,onChange:d=>n(d.target.value)}),b?e.jsx(Te,{onClick:()=>{i(h)},className:"cursor-pointer"}):e.jsx(O,{onClick:()=>i(""),className:"cursor-pointer"})]}),e.jsx("div",{className:"flex gap-x-2 items-center",children:e.jsxs("button",{className:"btn btn-sm bg-blue-900 text-white border-none",onClick:()=>{_(null),j(!k)},children:[e.jsx(K,{})," Tambah Dokumen"]})})]}),e.jsx("div",{className:"overflow-x-auto bg-white shadow-xl rounded-md h-[50vh] no-scrollbar px-6 pb-4",children:e.jsx("table",{className:"table",children:e.jsx("tbody",{children:R.map((d,v)=>e.jsxs("div",{className:"mt-4 border-b-2 pb-4 border-gray-500",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("p",{className:"text-sm",children:["Tanggal ",A(d.tanggal)," | ",d.penanggung_jawab_name]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("button",{className:"btn btn-xs bg-transparent shadow-none border-0 text-green-400",onClick:()=>{o(d)},children:[e.jsx(De,{size:10}),"Lihat"]}),e.jsxs("button",{className:"btn btn-xs bg-transparent shadow-none border-0 text-yellow-400",onClick:()=>{_(T=>d.uuid),j(T=>!0)},children:[e.jsx(Ae,{size:10}),"Edit"]})]})]}),e.jsxs("p",{className:"text-sm mb-4",children:["Status Dokumen ( ",d.status," )"]}),e.jsxs("p",{className:"py-1 w-max rounded font-bold",children:["No. Surat : ",d.no_surat]}),e.jsx("p",{className:"text-sm",children:d.klien}),e.jsxs("p",{className:"text-sm w-max mt-2",children:[d.jumlah_dokumen," Dokumen Klien"]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex gap-x-2 bg-gray-500 text-white font-bold rounded-lg w-max mt-2",children:[e.jsx("p",{className:"text-sm w-max pl-2",children:d.tipe_dokumen}),e.jsx("p",{className:`text-sm w-max border-l-2 px-2 border-white ${d.jenis_dokumen=="EMPTY"?"":"border-r-2"}`,children:d.kategori_dokumen}),d.jenis_dokumen!="EMPTY"?e.jsx(e.Fragment,{children:e.jsx("p",{className:"text-sm w-max pr-2",children:d.jenis_dokumen})}):e.jsx(e.Fragment,{})]}),d.hutang==0?e.jsx("div",{className:"flex gap-x-2 bg-green-700 text-white font-bold rounded-lg w-max mt-2",children:e.jsx("p",{className:"text-sm px-2",children:"Lunas"})}):e.jsx("div",{className:"flex gap-x-2 bg-red-500 text-white font-bold rounded-lg w-max mt-2",children:e.jsxs("p",{className:"text-sm px-2",children:["Hutang Rp. ",E(d.hutang)]})})]}),d.tanggal_riwayat_aktivitas_uuid?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"border-l-2 border-blue-800",children:[e.jsx("p",{className:"text-sm bg-blue-800 w-max px-3 rounded-r-lg text-white mt-4 font-bold",children:"Aktivitas Terakhir"}),e.jsxs("div",{className:"pl-2",children:[e.jsx("p",{className:"text-xs font-bold mt-2",children:A(d.tanggal_riwayat_aktivitas_uuid)}),e.jsx("p",{className:"text-sm mt-1 text-gray-700",children:d.judul_riwayat_aktivitas_uuid}),e.jsx("p",{className:"text-sm bg-blue-600 w-max px-3 rounded text-white mt-4 font-bold",children:"Status Terakhir"}),e.jsx("p",{className:"text-xs font-bold mt-2",children:A(d.tanggal_status_riwayat_aktivitas_terakhir)}),e.jsx("p",{className:"text-sm mt-1 text-gray-700",children:d.judul_status_riwayat_aktivitas_terakhir})]})]})}):e.jsx(e.Fragment,{})]}))})})}),e.jsx(Re,{paginateUpdatePage:w,paginate:t,setSize:P})]})})]})};export{aa as default};
