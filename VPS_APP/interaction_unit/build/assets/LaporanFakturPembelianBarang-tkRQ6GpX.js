import{w as b,r,j as a,W as j,x as u,y as N,d as g,f as v,p as l,bS as k,bX as f,bY as F,t as y}from"./index-CfwrrJQa.js";import"./react-paginate-Dg6Wnb0G.js";const C=()=>{b();const[n,i]=r.useState(""),[o,m]=r.useState(!0),[p,x]=r.useState([]),[h,d]=r.useState(!1),t=(e="")=>{e==""&&(i(e),m(!0)),d(!0),k.custom(`/faktur_report?search=${e}`,"GET").then(c=>{let s=f(c.data.entry,"supplier_name");s=F(s,["total_retur","total_pelunasan","total_beli","piutang"]),x(s),d(!1)}).catch(c=>{y(c)})};return r.useEffect(()=>{t()},[]),a.jsx(j,{isLoading:h,children:a.jsxs("div",{children:[a.jsx(u,{title:"Laporan Faktur Pembelian Barang"}),a.jsxs("div",{className:"bg-white py-3 px-6 mb-3 rounded-md flex justify-between shadow-2xl",children:[a.jsxs("label",{className:"input input-sm input-bordered flex items-center gap-2 bg-white",children:[a.jsx("input",{type:"text",className:"grow bg-transparent",placeholder:"Cari",value:n,onChange:e=>i(e.target.value)}),o?a.jsx(N,{onClick:()=>{t(n)},className:"cursor-pointer"}):a.jsx(g,{onClick:()=>t(""),className:"cursor-pointer"})]}),a.jsx("div",{className:"flex gap-x-2 items-center"})]}),a.jsx("div",{className:"bg-white rounded-md px-6 py-3",children:p.map((e,c)=>a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"font-bold sticky top-0 z-20 mt-4",children:e.parent}),a.jsx("div",{className:"flex flex-col",children:a.jsxs("div",{className:"font-medium px-10 my-4",children:[a.jsxs("div",{className:"grid grid-cols-12",children:[a.jsx("div",{className:"col-span-3",children:a.jsx("p",{className:"border-b-2 py-2 border-black mx-4",children:"No. Faktur Pembelian Barang"})}),a.jsx("div",{className:"col-span-3",children:a.jsx("p",{className:"border-b-2 py-2 border-black mx-4",children:"Tanggal Faktur"})}),a.jsx("div",{className:"col-span-2",children:a.jsx("p",{className:"border-b-2 py-2 border-black mx-4",children:"Total Pembelian"})}),a.jsx("div",{className:"col-span-2",children:a.jsx("p",{className:"border-b-2 py-2 border-black mx-4",children:"Sudah Dibayar"})}),a.jsx("div",{className:"col-span-2",children:a.jsx("p",{className:"border-b-2 py-2 border-black mx-4",children:"Hutang"})})]}),e.data.map((s,_)=>a.jsx(a.Fragment,{children:a.jsxs("div",{className:"grid grid-cols-12 my-4",children:[a.jsx("div",{className:"col-span-3",children:a.jsx("p",{className:"mx-4",children:s.nomor_faktur_pembelian_barang})}),a.jsx("div",{className:"col-span-3",children:a.jsx("p",{className:"mx-4",children:v(s.tanggal)})}),a.jsx("div",{className:"col-span-2",children:a.jsx("p",{className:"mx-4",children:l(s.total_beli.toFixed(2))})}),a.jsx("div",{className:"col-span-2",children:a.jsx("p",{className:"mx-4",children:l(s.total_pelunasan.toFixed(2))})}),a.jsx("div",{className:"col-span-2",children:a.jsx("p",{className:"mx-4",children:l(s.piutang.toFixed(2))})})]})})),a.jsxs("div",{className:"grid grid-cols-12 my-3",children:[a.jsx("div",{className:"col-span-3",children:a.jsx("p",{className:"mx-4"})}),a.jsx("div",{className:"col-span-3",children:a.jsx("p",{className:"mx-4"})}),a.jsx("div",{className:"col-span-2",children:a.jsx("p",{className:"border-t-2 py-2 border-black mx-4",children:l(e.total_beli.toFixed(2))})}),a.jsx("div",{className:"col-span-2",children:a.jsx("p",{className:"border-t-2 py-2 border-black mx-4",children:l(e.total_pelunasan.toFixed(2))})}),a.jsx("div",{className:"col-span-2",children:a.jsx("p",{className:"border-t-2 py-2 border-black mx-4",children:l(e.piutang.toFixed(2))})})]})]})})]}))})]})})};export{C as default};
