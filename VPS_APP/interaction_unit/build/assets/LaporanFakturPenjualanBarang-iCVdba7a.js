import{u as f,r as l,j as e,o as h,b as j,f as g,br as N,s as b}from"./index-DZCXWm7f.js";import{W as F}from"./Wrap-DcwCOsCB.js";import{P as w}from"./PageTitle-CmhTXHkp.js";import"./react-paginate-DQywGu_z.js";import{p as t}from"./number.helper-efe0YCx6.js";import{d as y,e as _}from"./jurnalUmum.helper-BqG1ckjr.js";const E=()=>{f();const[i,c]=l.useState(""),[d,m]=l.useState(!0),[n,p]=l.useState([]),[u,o]=l.useState(!1),x=(a="")=>{a==""&&(c(a),m(!0)),o(!0),N.custom(`/faktur_report?search=${a}`,"GET").then(r=>{let s=y(r.data.entry,"customer_name");s=_(s,["total_retur","total_pelunasan","total_beli","piutang"]),p(s),o(!1)}).catch(r=>{b(r)})};return l.useEffect(()=>{x()},[]),e.jsx(F,{isLoading:u,children:e.jsxs("div",{children:[e.jsx(w,{title:"Laporan Faktur Penjualan Barang"}),e.jsxs("div",{className:"bg-white py-3 px-6 mb-3 rounded-md flex justify-between shadow-2xl",children:[e.jsxs("label",{className:"input input-sm input-bordered flex items-center gap-2 bg-white",children:[e.jsx("input",{type:"text",className:"grow bg-transparent",placeholder:"Cari",value:i,onChange:a=>c(a.target.value)}),d?e.jsx(h,{onClick:()=>{x(i)},className:"cursor-pointer"}):e.jsx(j,{onClick:()=>x(""),className:"cursor-pointer"})]}),e.jsx("div",{className:"flex gap-x-2 items-center"})]}),n==null?void 0:n.map((a,r)=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex my-2 justify-between gap-x-2 px-6 py-2 items-start bg-white shadow-xl rounded-md ",children:e.jsxs("div",{className:"w-full flex flex-col gap-y-2 py-4",children:[e.jsx("p",{className:"text-md font-bold",children:a.parent}),e.jsxs("div",{className:"flex flex-col rounded-md overflow-hidden gap-y-2",children:[e.jsxs("div",{className:"w-full flex font-medium bg-gray-100 p-2 border-t-2",children:[e.jsx("p",{className:"flex-1 text-sm",children:"Faktur Penjualan"}),e.jsx("p",{className:"flex-1 text-sm",children:"Tanggal Faktur"}),e.jsx("p",{className:"flex-1 text-sm",children:"Penjualan"}),e.jsx("p",{className:"flex-1 text-sm",children:"Pelunasan"}),e.jsx("p",{className:"flex-1 text-sm",children:"Piutang"})]}),a.data.map(s=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full flex px-2 my-2",children:[e.jsx("p",{className:"flex-1 text-xs",children:s.nomor_faktur_penjualan_barang}),e.jsx("p",{className:"flex-1 text-xs",children:g(s.tanggal)}),e.jsx("p",{className:"flex-1 text-xs",children:t(s.total_beli.toFixed(2))}),e.jsx("p",{className:"flex-1 text-xs",children:t(s.total_pelunasan.toFixed(2))}),e.jsx("p",{className:"flex-1 text-xs",children:t(s.piutang.toFixed(2))})]})})),e.jsxs("div",{className:"w-full flex font-medium bg-gray-100 p-2 border-t-2",children:[e.jsx("p",{className:"flex-1 font-bold text-xs",children:"Total"}),e.jsx("p",{className:"flex-1 text-xs",children:"Â "}),e.jsx("p",{className:"flex-1 text-xs",children:t(a.total_beli.toFixed(2))}),e.jsx("p",{className:"flex-1 text-xs",children:t(a.total_pelunasan.toFixed(2))}),e.jsx("p",{className:"flex-1 text-xs",children:t(a.piutang.toFixed(2))})]})]})]})})}))]})})};export{E as default};
