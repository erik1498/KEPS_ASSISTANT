import{u as v,r as t,j as a,o as w,b as N,aD as y,s as P}from"./index-uJy3UgYS.js";import{W as B}from"./Wrap-BJna6Lck.js";import{P as C}from"./PageTitle-BH7LYrc2.js";import{P as L}from"./Pagination-gIkiVvxn.js";import{B as z}from"./BulanSelectedListCard-DB8Lw0pW.js";import"./react-paginate-BxIB-5-4.js";const M=()=>{const j=v(),{data:p}=j,[l,g]=t.useState(new Date().getMonth()),[i,m]=t.useState([]),[b,c]=t.useState(!1),[f,S]=t.useState(!1),[o,h]=t.useState(""),[n,d]=t.useState({page:1,size:10,count:118,lastPage:12}),r=(e="")=>{e==""&&h(e),c(!0),y.custom(`/report/${(l+1).toString().padStart(2,"0")}/${p.tahun}?search=${e}&page=${n.page}&size=${n.size}`,"GET").then(s=>{var x,u;S(e.length<1),m((x=s==null?void 0:s.data)==null?void 0:x.entry),d((u=s==null?void 0:s.data)==null?void 0:u.pagination),c(!1)}).catch(s=>{P(s)})},_=({selected:e})=>{let s=n;s.page=e+1,d(s),r()},k=e=>{let s=n;s.size=e,s.page=1,d(s),r()};return t.useEffect(()=>{r()},[l]),a.jsx(B,{isLoading:b,children:a.jsxs("div",{children:[a.jsx(C,{title:"Laporan Stok Barang"}),a.jsxs("div",{className:"grid grid-cols-12 gap-x-4",children:[a.jsx("div",{className:"col-span-2",children:a.jsx(z,{bulan:l,setBulan:g})}),a.jsxs("div",{className:"col-span-10",children:[a.jsx("div",{className:"bg-white py-3 px-6 mb-3 rounded-md flex justify-between shadow-2xl",children:a.jsxs("label",{className:"input input-sm input-bordered flex items-center gap-2 bg-white",children:[a.jsx("input",{type:"text",className:"grow bg-transparent",placeholder:"Cari",value:o,onChange:e=>h(e.target.value)}),f?a.jsx(w,{onClick:()=>{r(o)},className:"cursor-pointer"}):a.jsx(N,{onClick:()=>r(""),className:"cursor-pointer"})]})}),a.jsx("div",{className:"overflow-x-auto bg-white shadow-xl rounded-md h-[50vh] no-scrollbar px-6 pb-4",children:a.jsxs("table",{className:"table",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"sticky top-0 bg-white py-4 text-black",children:[a.jsx("th",{width:12,children:"No"}),a.jsx("th",{children:"Nama Daftar Barang"}),a.jsx("th",{children:"Kode Barang"}),a.jsx("th",{children:"Satuan Barang"}),a.jsx("th",{children:"Gudang"}),a.jsx("th",{children:"Stok Penyesuaian Persediaan Bulan Lalu"}),a.jsx("th",{children:"Konversi Keluar"}),a.jsx("th",{children:"Konversi Masuk"}),a.jsx("th",{children:"Transfer Keluar"}),a.jsx("th",{children:"Transfer Masuk"}),a.jsx("th",{children:"Pembelian"}),a.jsx("th",{children:"Retur Pembelian"}),a.jsx("th",{children:"Penjualan"}),a.jsx("th",{children:"Retur Penjualan"}),a.jsx("th",{children:"Stok Sistem"})]})}),a.jsx("tbody",{children:i==null?void 0:i.map((e,s)=>a.jsx(a.Fragment,{children:a.jsxs("tr",{children:[a.jsxs("td",{children:[s+1,"."]}),a.jsx("td",{children:e.daftar_barang_name}),a.jsx("td",{children:e.kategori_harga_barang_kode_barang}),a.jsx("td",{children:e.satuan_barang_name}),a.jsx("td",{children:e.daftar_gudang_name}),a.jsx("td",{children:e.stok_penyesuaian_persediaan_bulan_lalu}),a.jsx("td",{children:e.konversi_keluar}),a.jsx("td",{children:e.konversi_masuk}),a.jsx("td",{children:e.transfer_keluar}),a.jsx("td",{children:e.transfer_masuk}),a.jsx("td",{children:e.pembelian}),a.jsx("td",{children:e.retur_pembelian}),a.jsx("td",{children:e.penjualan}),a.jsx("td",{children:e.retur_penjualan}),a.jsx("td",{children:e.stok_sistem})]},s)}))})]})}),a.jsx(L,{paginateUpdatePage:_,paginate:n,setSize:k})]})]})]})})};export{M as default};
