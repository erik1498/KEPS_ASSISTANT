import{j as a,R as m,u,r as i,i as p,B as j}from"./index-DHco5UoW.js";import{W as g}from"./Wrap-UDT2yOyM.js";import{P as b}from"./PageTitle-DhSJ_t28.js";import{P as f,l as v}from"./PDFHeader-CVMgwoPg.js";import"./index-BKNjMPK8.js";const o=({dataList:e,title:l,totalTitle:n,addingContent:c,forPrint:d})=>a.jsx(a.Fragment,{children:a.jsxs("div",{className:`flex flex-col w-full bg-white text-sm ${d?"":"px-3 shadow-md"}`,children:[e.data.plus.length>0?a.jsx("div",{className:"grid grid-cols-12 sticky top-0 bg-white py-2 border-b-2",children:a.jsx("div",{className:"p-2 col-span-9 text-black flex items-end",children:a.jsx("div",{className:"text-md font-bold",children:a.jsx("p",{className:"text-xl -ml-1 text-white px-2 rounded-md bg-blue-900",children:l})})})}):a.jsx(a.Fragment,{}),e.data.plus.map((s,t)=>a.jsxs(a.Fragment,{children:[t>0?a.jsx("hr",{}):a.jsx(a.Fragment,{}),t<=e.data.plus.length?a.jsxs("div",{className:"grid grid-cols-12 items-start py-1",children:[a.jsx("div",{className:"col-span-6 text-gray-900 px-2",children:a.jsxs("p",{className:s.kode_akun_perkiraan_name=="Modal"?"font-bold":"",children:[s.kode_akun_perkiraan_name," ",s.kode_akun_perkiraan_name=="Modal"?" ( Awal ) ":""]})}),a.jsx("div",{className:"col-span-6 text-gray-900 text-right px-2",children:a.jsx("p",{className:s.kode_akun_perkiraan_name=="Modal"?"font-bold":"",children:s.value})})]}):a.jsx(a.Fragment,{}),t==e.data.plus.length-1?a.jsxs(a.Fragment,{children:[a.jsx("hr",{}),a.jsxs("div",{className:"grid grid-cols-12 items-start py-3 font-bold",children:[a.jsx("div",{className:"col-span-6 text-gray-900 px-2",children:a.jsx("p",{children:"Total"})}),a.jsx("div",{className:"col-span-6 text-gray-900 text-right px-2",children:a.jsx("p",{children:e.count.plus})})]})]}):a.jsx(a.Fragment,{})]})),a.jsx("p",{className:"font-bold px-2 py-3",children:"Dikurangi"}),e.data.minus.map((s,t)=>a.jsxs(a.Fragment,{children:[t>0?a.jsx("hr",{}):a.jsx(a.Fragment,{}),t<=e.data.minus.length?a.jsxs("div",{className:"grid grid-cols-12 items-start py-1",children:[a.jsx("div",{className:"col-span-6 text-gray-900 px-2",children:a.jsx("p",{children:s.kode_akun_perkiraan_name})}),a.jsx("div",{className:"col-span-6 text-gray-900 text-right px-2",children:a.jsx("p",{children:s.value})})]}):a.jsx(a.Fragment,{}),t==e.data.minus.length-1?a.jsxs(a.Fragment,{children:[a.jsx("hr",{}),a.jsxs("div",{className:"grid grid-cols-12 items-start py-3 font-bold",children:[a.jsx("div",{className:"col-span-6 text-gray-900 px-2",children:a.jsx("p",{children:"Total"})}),a.jsx("div",{className:"col-span-6 text-gray-900 text-right px-2",children:a.jsx("p",{children:e.count.minus})})]})]}):a.jsx(a.Fragment,{})]})),a.jsxs("div",{className:"grid grid-cols-12 items-start py-2 font-bold",children:[a.jsx("div",{className:"col-span-6 text-gray-900 px-2",children:a.jsx("p",{children:"Modal ( Akhir )"})}),a.jsx("div",{className:"col-span-6 text-gray-900 text-right px-2",children:a.jsx("p",{children:e.all_count})})]})]})}),N=m.forwardRef((e,l)=>a.jsxs("div",{ref:l,children:[a.jsx(f,{bulan:e.bulan,tahun:e.tahun,title:"Perubahan Modal"}),e.data.map(n=>a.jsx(o,{forPrint:!0,dataList:n,title:n.bulan,totalTitle:"Total Ekuitas"}))]})),M=()=>{const e=u(),{data:l}=e,[n,c]=i.useState(!1),[d,s]=i.useState([]),t=i.useRef(),x=v.useReactToPrint({content:()=>t.current}),h=()=>{c(!0),j.custom(`/${l.tahun}`,"GET").then(r=>{c(!1),s(r.data)}).catch(r=>{showError(r)})};return i.useEffect(()=>{h()},[]),a.jsx(g,{isLoading:n,children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(b,{title:"Perubahan Modal"}),a.jsx("div",{className:"hidden",children:a.jsx(N,{data:d,ref:t,tahun:l.tahun})}),a.jsxs("button",{onClick:x,className:"btn btn-sm bg-red-600 hover:bg-red-600 mt-2 text-white border-red-600",children:[a.jsx(p,{})," Cetak Perubahan Modal"]})]}),a.jsx("div",{className:"h-[65vh]",children:a.jsx("div",{className:"flex flex-col h-full overflow-y-scroll no-scrollbar w-full rounded-md",children:d.map(r=>a.jsx(o,{dataList:r,title:r.bulan,totalTitle:"Total Ekuitas"}))})})]})})};export{M as default};
