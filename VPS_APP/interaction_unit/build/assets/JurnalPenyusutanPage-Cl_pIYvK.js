import{j as a,p as x,w as N,r as s,W as v,x as w,aR as D,B as y,C as S,t as k}from"./index-mkcrex3p.js";import{B as J}from"./BulanSelectedListCard-DtwZoyqk.js";import{D as P}from"./DebetKreditStatusCard-CbTQsfRE.js";import{J as C}from"./JurnalPenyusutanRowData-BDRH5QTF.js";import"./JurnalPenyusutanRowUraian-Be9_Iq8f.js";const R=({item:e,balanceStatus:r=!0,forPrint:l=!1})=>a.jsxs("div",{className:`flex flex-col w-full bg-white text-[13px] px-3 ${l?"":"shadow-md"}`,children:[a.jsx("div",{className:"grid grid-cols-12 sticky top-0 bg-white py-2 border-b-2",children:a.jsxs("div",{className:"p-2 col-span-9 text-black flex items-end",children:[a.jsx("div",{className:"text-[28px] font-bold",children:r?a.jsx("p",{className:`text-[45px] -ml-1 text-white px-2 rounded-md ${e.total.debet==e.total.kredit?"bg-green-900":"bg-red-900"}`,children:e.tanggal<10?`0${e.tanggal}`:e.tanggal}):a.jsx("p",{className:"text-[45px] -ml-1 text-white px-2 rounded-md bg-green-900",children:e.tanggal<10?`0${e.tanggal}`:e.tanggal})}),a.jsx("div",{className:"flex flex-col",children:a.jsxs("div",{className:"flex items-end",children:[a.jsxs("div",{className:"text-gray-900 flex flex-col justify-end px-2",children:[a.jsxs("h1",{children:[e.bulan,".",e.tahun]}),a.jsx("h2",{className:"text-[13px] font-bold",children:e.hari})]}),a.jsxs("div",{className:"flex flex-col px-2 border-l-2 border-gray-600",children:[a.jsx("h1",{className:"font-bold",children:"Total"}),a.jsxs("div",{className:"flex gap-x-4",children:[a.jsx("div",{className:"text-right",children:a.jsx("h1",{className:" text-green-900 font-bold flex flex-row",children:x(e.total.debet)})}),a.jsx("div",{className:"text-right",children:a.jsx("h1",{className:" text-red-900 font-bold",children:x(e.total.kredit)})})]})]})]})})]})}),e.buktiTransaksi.map(n=>a.jsx(a.Fragment,{children:a.jsx(C,{item1:n,balanceStatus:!0,forPrint:l})}))]}),L=()=>{const e=N(),{data:r}=e,[l,n]=s.useState(!1),[d,i]=s.useState(new Date().getMonth()),[u,T]=s.useState(!0),[h,m]=s.useState(0),[g,f]=s.useState(0),[j,p]=s.useState([]),b=()=>{n(!0),D.custom(`/jurnal/${d+1}/${r.tahun}`,"GET").then(async t=>{const o=y(t.data),c=await S(o);p(c.returnData),m(c.totalDebet),f(c.totalKredit),n(!1)}).catch(t=>k(t))};return s.useEffect(()=>{b()},[d]),a.jsx(v,{isLoading:l,children:a.jsxs("div",{children:[a.jsx(w,{title:"Jurnal Penyusutan"}),a.jsxs("div",{className:"grid grid-cols-6 mt-5",children:[a.jsxs("div",{className:"col-span-1",children:[a.jsx(J,{bulan:d,setBulan:i}),u?a.jsx(P,{debet:h,kredit:g}):a.jsx(a.Fragment,{})]}),a.jsx("div",{className:"col-span-5",children:a.jsx("div",{className:"h-[65vh] pl-2",children:a.jsx("div",{className:"flex flex-col h-full overflow-y-scroll no-scrollbar w-full rounded-md",children:j.map((t,o)=>a.jsx(R,{item:t,forPrint:!1}))})})})]})]})})};export{L as default};
