import{j as a,u as N,r as t,aA as v,s as w}from"./index-QngEOzN_.js";import{P as D}from"./PageTitle-ByHsc4p5.js";import{W as y}from"./Wrap-BCfnb039.js";import{B as S}from"./BulanSelectedListCard-CEWU7RwY.js";import{D as P}from"./DebetKreditStatusCard-C-zUa2Qe.js";import{a as k,b as J}from"./jurnalUmum.helper-CDoQQfXi.js";import{p as i}from"./number.helper-_FlTjox4.js";import{J as T}from"./JurnalPenyusutanRowData-CBFLR0Kj.js";import"./JurnalPenyusutanRowUraian-DMCIDR83.js";const $=({item:e,balanceStatus:n=!0,forPrint:l=!1})=>a.jsxs("div",{className:`flex flex-col w-full bg-white text-[13px] px-3 ${l?"":"shadow-md"}`,children:[a.jsx("div",{className:"grid grid-cols-12 sticky top-0 bg-white py-2 border-b-2",children:a.jsxs("div",{className:"p-2 col-span-9 text-black flex items-end",children:[a.jsx("div",{className:"text-[28px] font-bold",children:n?a.jsx("p",{className:`text-[45px] -ml-1 text-white px-2 rounded-md ${e.total.debet==e.total.kredit?"bg-green-900":"bg-red-900"}`,children:e.tanggal<10?`0${e.tanggal}`:e.tanggal}):a.jsx("p",{className:"text-[45px] -ml-1 text-white px-2 rounded-md bg-green-900",children:e.tanggal<10?`0${e.tanggal}`:e.tanggal})}),a.jsx("div",{className:"flex flex-col",children:a.jsxs("div",{className:"flex items-end",children:[a.jsxs("div",{className:"text-gray-900 flex flex-col justify-end px-2",children:[a.jsxs("h1",{children:[e.bulan,".",e.tahun]}),a.jsx("h2",{className:"text-[13px] font-bold",children:e.hari})]}),a.jsxs("div",{className:"flex flex-col px-2 border-l-2 border-gray-600",children:[a.jsx("h1",{className:"font-bold",children:"Total"}),a.jsxs("div",{className:"flex gap-x-4",children:[a.jsx("div",{className:"text-right",children:a.jsx("h1",{className:" text-green-900 font-bold flex flex-row",children:i(e.total.debet)})}),a.jsx("div",{className:"text-right",children:a.jsx("h1",{className:" text-red-900 font-bold",children:i(e.total.kredit)})})]})]})]})})]})}),e.buktiTransaksi.map(r=>a.jsx(a.Fragment,{children:a.jsx(T,{item1:r,balanceStatus:!0,forPrint:l})}))]}),A=()=>{const e=N(),{data:n}=e,[l,r]=t.useState(!1),[d,x]=t.useState(new Date().getMonth()),[u,C]=t.useState(!0),[h,m]=t.useState(0),[f,p]=t.useState(0),[g,j]=t.useState([]),b=()=>{r(!0),v.custom(`/jurnal/${d+1}/${n.tahun}`,"GET").then(async s=>{const c=k(s.data),o=await J(c);j(o.returnData),m(o.totalDebet),p(o.totalKredit),r(!1)}).catch(s=>w(s))};return t.useEffect(()=>{b()},[d]),a.jsx(y,{isLoading:l,children:a.jsxs("div",{children:[a.jsx(D,{title:"Jurnal Penyusutan"}),a.jsxs("div",{className:"grid grid-cols-6 mt-5",children:[a.jsxs("div",{className:"col-span-1",children:[a.jsx(S,{bulan:d,setBulan:x}),u?a.jsx(P,{debet:h,kredit:f}):a.jsx(a.Fragment,{})]}),a.jsx("div",{className:"col-span-5",children:a.jsx("div",{className:"h-[65vh] pl-2",children:a.jsx("div",{className:"flex flex-col h-full overflow-y-scroll no-scrollbar w-full rounded-md",children:g.map((s,c)=>a.jsx($,{item:s,forPrint:!1}))})})})]})]})})};export{A as default};
