import{w as u,r,j as a,W as h,x as b,y as N,d as g,f as v,p as l,bJ as k,bX as f,bY as F,t as y}from"./index-CfwrrJQa.js";import"./react-paginate-Dg6Wnb0G.js";const P=()=>{u();const[t,i]=r.useState(""),[o,m]=r.useState(!0),[x,p]=r.useState([]),[j,d]=r.useState(!1),n=(s="")=>{s==""&&(i(s),m(!0)),d(!0),k.custom(`/faktur_report?search=${s}`,"GET").then(c=>{let e=f(c.data.entry,"customer_name");e=F(e,["total_retur","total_pelunasan","total_beli","piutang"]),p(e),d(!1)}).catch(c=>{y(c)})};return r.useEffect(()=>{n()},[]),a.jsx(h,{isLoading:j,children:a.jsxs("div",{children:[a.jsx(b,{title:"Laporan Faktur Penjualan Barang"}),a.jsxs("div",{className:"bg-white py-3 px-6 mb-3 rounded-md flex justify-between shadow-2xl",children:[a.jsxs("label",{className:"input input-sm input-bordered flex items-center gap-2 bg-white",children:[a.jsx("input",{type:"text",className:"grow bg-transparent",placeholder:"Cari",value:t,onChange:s=>i(s.target.value)}),o?a.jsx(N,{onClick:()=>{n(t)},className:"cursor-pointer"}):a.jsx(g,{onClick:()=>n(""),className:"cursor-pointer"})]}),a.jsx("div",{className:"flex gap-x-2 items-center"})]}),a.jsx("div",{className:"bg-white rounded-md px-6 py-3",children:x.map((s,c)=>a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"font-bold sticky top-0 z-20 mt-4",children:s.parent}),a.jsx("div",{className:"flex flex-col",children:a.jsxs("div",{className:"font-medium px-10 my-4",children:[a.jsxs("div",{className:"grid grid-cols-12",children:[a.jsx("div",{className:"col-span-3",children:a.jsx("p",{className:"border-b-2 py-2 border-black mx-4",children:"No. Faktur Penjualan Barang"})}),a.jsx("div",{className:"col-span-3",children:a.jsx("p",{className:"border-b-2 py-2 border-black mx-4",children:"Tanggal Faktur"})}),a.jsx("div",{className:"col-span-2",children:a.jsx("p",{className:"border-b-2 py-2 border-black mx-4",children:"Total Penjualan"})}),a.jsx("div",{className:"col-span-2",children:a.jsx("p",{className:"border-b-2 py-2 border-black mx-4",children:"Sudah Dibayar"})}),a.jsx("div",{className:"col-span-2",children:a.jsx("p",{className:"border-b-2 py-2 border-black mx-4",children:"Piutang"})})]}),s.data.map((e,_)=>a.jsx(a.Fragment,{children:a.jsxs("div",{className:"grid grid-cols-12 my-4",children:[a.jsx("div",{className:"col-span-3",children:a.jsx("p",{className:"mx-4",children:e.nomor_faktur_penjualan_barang})}),a.jsx("div",{className:"col-span-3",children:a.jsx("p",{className:"mx-4",children:v(e.tanggal)})}),a.jsx("div",{className:"col-span-2",children:a.jsx("p",{className:"mx-4",children:l(e.total_beli.toFixed(2))})}),a.jsx("div",{className:"col-span-2",children:a.jsx("p",{className:"mx-4",children:l(e.total_pelunasan.toFixed(2))})}),a.jsx("div",{className:"col-span-2",children:a.jsx("p",{className:"mx-4",children:l(e.piutang.toFixed(2))})})]})})),a.jsxs("div",{className:"grid grid-cols-12 my-3",children:[a.jsx("div",{className:"col-span-3",children:a.jsx("p",{className:"mx-4"})}),a.jsx("div",{className:"col-span-3",children:a.jsx("p",{className:"mx-4"})}),a.jsx("div",{className:"col-span-2",children:a.jsx("p",{className:"border-t-2 py-2 border-black mx-4",children:l(s.total_beli.toFixed(2))})}),a.jsx("div",{className:"col-span-2",children:a.jsx("p",{className:"border-t-2 py-2 border-black mx-4",children:l(s.total_pelunasan.toFixed(2))})}),a.jsx("div",{className:"col-span-2",children:a.jsx("p",{className:"border-t-2 py-2 border-black mx-4",children:l(s.piutang.toFixed(2))})})]})]})})]}))})]})})};export{P as default};
